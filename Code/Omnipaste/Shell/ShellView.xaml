<controls:MetroWindow x:Class="Omnipaste.Shell.ShellView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:cal="http://www.caliburnproject.org"
        xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
        WindowStartupLocation="CenterScreen"
        WindowStyle="SingleBorderWindow"
        ResizeMode="NoResize"
        Icon="/Icon.ico">
    <controls:MetroWindow.Resources>
        <ResourceDictionary>
            <ControlTemplate x:Key="FlyoutTemplate" TargetType="{x:Type controls:Flyout}">
                <Grid x:Name="root"
                  Margin="{TemplateBinding Margin}"
                  Background="{TemplateBinding Background}">
                    <Grid.RenderTransform>
                        <TranslateTransform />
                    </Grid.RenderTransform>
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup>
                            <VisualState x:Name="Default" />
                            <VisualState x:Name="Hide">
                                <Storyboard>
                                    <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                               Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                               Storyboard.TargetName="root">
                                        <EasingDoubleKeyFrame KeyTime="00:00:00.400"
                                                          Value="0"
                                                          x:Name="hideFrame">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                               Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)"
                                                               Storyboard.TargetName="root">
                                        <EasingDoubleKeyFrame KeyTime="00:00:00.500"
                                                          Value="0"
                                                          x:Name="hideFrameY">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimation From="1"
                                                 To="0"
                                                 BeginTime="00:00:00"
                                                 Duration="00:00:00.400"
                                                 Storyboard.TargetProperty="(UIElement.Opacity)"
                                                 Storyboard.TargetName="root" />
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Show">
                                <Storyboard>
                                    <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                               Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                               Storyboard.TargetName="root">
                                        <EasingDoubleKeyFrame KeyTime="00:00:00.400"
                                                          Value="0"
                                                          x:Name="showFrame">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                               Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)"
                                                               Storyboard.TargetName="root">
                                        <EasingDoubleKeyFrame KeyTime="00:00:00.600"
                                                          Value="0"
                                                          x:Name="showFrameY">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimation From="0"
                                                 To="1"
                                                 BeginTime="00:00:00"
                                                 Duration="00:00:00.400"
                                                 Storyboard.TargetProperty="(UIElement.Opacity)"
                                                 Storyboard.TargetName="root" />
                                </Storyboard>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <DockPanel>
                        <ContentPresenter x:Name="PART_Header"
                                      DockPanel.Dock="Top"
                                      ContentSource="Header"
                                      ContentTemplate="{TemplateBinding HeaderTemplate}" />

                        <ContentControl x:Name="PART_Content" cal:View.Model="{Binding}" DockPanel.Dock="Bottom" />
                    </DockPanel>
                </Grid>
                <ControlTemplate.Triggers>
                    <DataTrigger Binding="{Binding Position, RelativeSource={RelativeSource Self}}"
                             Value="Top">
                        <Setter TargetName="PART_Header"
                            Property="DockPanel.Dock"
                            Value="Left" />
                        <Setter TargetName="PART_Content"
                            Property="DockPanel.Dock"
                            Value="Right" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding Position, RelativeSource={RelativeSource Self}}"
                             Value="Bottom">
                        <Setter TargetName="PART_Header"
                            Property="DockPanel.Dock"
                            Value="Left" />
                        <Setter TargetName="PART_Content"
                            Property="DockPanel.Dock"
                            Value="Right" />
                    </DataTrigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </ResourceDictionary>
    </controls:MetroWindow.Resources>
    <controls:MetroWindow.RightWindowCommands>
        <controls:WindowCommands>
            <ContentControl cal:View.Model="{Binding SettingsHeaderViewModel}" />
            <ContentControl cal:View.Model="{Binding ConnectionViewModel}" />
            
        </controls:WindowCommands>
    </controls:MetroWindow.RightWindowCommands>
    <Grid>
        <Grid.RowDefinitions>
            <!--Menu-->
            <RowDefinition Height="Auto"/>
            <!--Content-->
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <ContentControl x:Name="ContextMenuViewModel" />
        
        <controls:MetroAnimatedSingleRowTabControl Grid.Row="0">
            <TabItem Header="Clippings"/>
        </controls:MetroAnimatedSingleRowTabControl>

        <ContentControl x:Name="ActiveItem" Grid.Row="1"/>
    </Grid>
</controls:MetroWindow>
